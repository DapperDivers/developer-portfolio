import{a as M,j as B}from"./emotion-react-jsx-runtime.browser.esm-Cpdipq7a.js";import{r as R}from"./index-B6-Y_Zgq.js";import{P as N}from"./index-Co38GRlK.js";import{C as L}from"./Card-piHSsVOW.js";import{R as S}from"./ResponsiveImage-DeSVJz96.js";import{u as F}from"./useIntersectionObserver-D-75sPdH.js";var k=function(n,l){return n<l?-1:n>l?1:0},O=function(n){return n.reduce(function(l,p){return l+p},0)},U=function(){function n(p){this.colors=p}var l=n.prototype;return l.palette=function(){return this.colors},l.map=function(p){return p},n}(),H=function(){function n(r,e,o){return(r<<10)+(e<<5)+o}function l(r){var e=[],o=!1;function s(){e.sort(r),o=!0}return{push:function(a){e.push(a),o=!1},peek:function(a){return o||s(),a===void 0&&(a=e.length-1),e[a]},pop:function(){return o||s(),e.pop()},size:function(){return e.length},map:function(a){return e.map(a)},debug:function(){return o||s(),e}}}function p(r,e,o,s,a,t,u){var c=this;c.r1=r,c.r2=e,c.g1=o,c.g2=s,c.b1=a,c.b2=t,c.histo=u}function f(){this.vboxes=new l(function(r,e){return k(r.vbox.count()*r.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function g(r,e){if(e.count()){var o=e.r2-e.r1+1,s=e.g2-e.g1+1,a=Math.max.apply(null,[o,s,e.b2-e.b1+1]);if(e.count()==1)return[e.copy()];var t,u,c,d,b=0,h=[],I=[];if(a==o)for(t=e.r1;t<=e.r2;t++){for(d=0,u=e.g1;u<=e.g2;u++)for(c=e.b1;c<=e.b2;c++)d+=r[n(t,u,c)]||0;h[t]=b+=d}else if(a==s)for(t=e.g1;t<=e.g2;t++){for(d=0,u=e.r1;u<=e.r2;u++)for(c=e.b1;c<=e.b2;c++)d+=r[n(u,t,c)]||0;h[t]=b+=d}else for(t=e.b1;t<=e.b2;t++){for(d=0,u=e.r1;u<=e.r2;u++)for(c=e.g1;c<=e.g2;c++)d+=r[n(u,c,t)]||0;h[t]=b+=d}return h.forEach(function(q,m){I[m]=b-q}),function(q){var m,x,v,w,y,E=q+"1",C=q+"2",_=0;for(t=e[E];t<=e[C];t++)if(h[t]>b/2){for(v=e.copy(),w=e.copy(),y=(m=t-e[E])<=(x=e[C]-t)?Math.min(e[C]-1,~~(t+x/2)):Math.max(e[E],~~(t-1-m/2));!h[y];)y++;for(_=I[y];!_&&h[y-1];)_=I[--y];return v[C]=y,w[E]=v[C]+1,[v,w]}}(a==o?"r":a==s?"g":"b")}}return p.prototype={volume:function(r){var e=this;return e._volume&&!r||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(r){var e=this,o=e.histo;if(!e._count_set||r){var s,a,t,u=0;for(s=e.r1;s<=e.r2;s++)for(a=e.g1;a<=e.g2;a++)for(t=e.b1;t<=e.b2;t++)u+=o[n(s,a,t)]||0;e._count=u,e._count_set=!0}return e._count},copy:function(){var r=this;return new p(r.r1,r.r2,r.g1,r.g2,r.b1,r.b2,r.histo)},avg:function(r){var e=this,o=e.histo;if(!e._avg||r){var s,a,t,u,c=0,d=0,b=0,h=0;if(e.r1===e.r2&&e.g1===e.g2&&e.b1===e.b2)e._avg=[e.r1<<3,e.g1<<3,e.b1<<3];else{for(a=e.r1;a<=e.r2;a++)for(t=e.g1;t<=e.g2;t++)for(u=e.b1;u<=e.b2;u++)c+=s=o[n(a,t,u)]||0,d+=s*(a+.5)*8,b+=s*(t+.5)*8,h+=s*(u+.5)*8;e._avg=c?[~~(d/c),~~(b/c),~~(h/c)]:[~~(8*(e.r1+e.r2+1)/2),~~(8*(e.g1+e.g2+1)/2),~~(8*(e.b1+e.b2+1)/2)]}}return e._avg},contains:function(r){var e=this,o=r[0]>>3;return gval=r[1]>>3,bval=r[2]>>3,o>=e.r1&&o<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},f.prototype={push:function(r){this.vboxes.push({vbox:r,color:r.avg()})},palette:function(){return this.vboxes.map(function(r){return r.color})},size:function(){return this.vboxes.size()},map:function(r){for(var e=this.vboxes,o=0;o<e.size();o++)if(e.peek(o).vbox.contains(r))return e.peek(o).color;return this.nearest(r)},nearest:function(r){for(var e,o,s,a=this.vboxes,t=0;t<a.size();t++)((o=Math.sqrt(Math.pow(r[0]-a.peek(t).color[0],2)+Math.pow(r[1]-a.peek(t).color[1],2)+Math.pow(r[2]-a.peek(t).color[2],2)))<e||e===void 0)&&(e=o,s=a.peek(t).color);return s},forcebw:function(){var r=this.vboxes;r.sort(function(a,t){return k(O(a.color),O(t.color))});var e=r[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,s=r[o].color;s[0]>251&&s[1]>251&&s[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(r,e){if(!Number.isInteger(e)||e<1||e>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!r.length||e<2||e>256||!r.length||e<2||e>256)return!1;for(var o=[],s=new Set,a=0;a<r.length;a++){var t=r[a],u=t.join(",");s.has(u)||(s.add(u),o.push(t))}if(o.length<=e)return new U(o);var c=function(m){var x,v=new Array(32768);return m.forEach(function(w){x=n(w[0]>>3,w[1]>>3,w[2]>>3),v[x]=(v[x]||0)+1}),v}(r);c.forEach(function(){});var d=function(m,x){var v,w,y,E=1e6,C=0,_=1e6,z=0,T=1e6,$=0;return m.forEach(function(D){(v=D[0]>>3)<E?E=v:v>C&&(C=v),(w=D[1]>>3)<_?_=w:w>z&&(z=w),(y=D[2]>>3)<T?T=y:y>$&&($=y)}),new p(E,C,_,z,T,$,x)}(r,c),b=new l(function(m,x){return k(m.count(),x.count())});function h(m,x){for(var v,w=m.size(),y=0;y<1e3;){if(w>=x||y++>1e3)return;if((v=m.pop()).count()){var E=g(c,v),C=E[0],_=E[1];if(!C)return;m.push(C),_&&(m.push(_),w++)}else m.push(v),y++}}b.push(d),h(b,.75*e);for(var I=new l(function(m,x){return k(m.count()*m.volume(),x.count()*x.volume())});b.size();)I.push(b.pop());h(I,e);for(var q=new f;I.size();)q.push(I.pop());return q}}}().quantize,A=function(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=n.naturalWidth,this.height=this.canvas.height=n.naturalHeight,this.context.drawImage(n,0,0,this.width,this.height)};A.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var j=function(){};j.prototype.getColor=function(n,l){return l===void 0&&(l=10),this.getPalette(n,5,l)[0]},j.prototype.getPalette=function(n,l,p){var f=function(o){var s=o.colorCount,a=o.quality;if(s!==void 0&&Number.isInteger(s)){if(s===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");s=Math.max(s,2),s=Math.min(s,20)}else s=10;return(a===void 0||!Number.isInteger(a)||a<1)&&(a=10),{colorCount:s,quality:a}}({colorCount:l,quality:p}),g=new A(n),r=function(o,s,a){for(var t,u,c,d,b,h=o,I=[],q=0;q<s;q+=a)u=h[0+(t=4*q)],c=h[t+1],d=h[t+2],((b=h[t+3])===void 0||b>=125)&&(u>250&&c>250&&d>250||I.push([u,c,d]));return I}(g.getImageData().data,g.width*g.height,f.quality),e=H(r,f.colorCount);return e?e.palette():null},j.prototype.getColorFromUrl=function(n,l,p){var f=this,g=document.createElement("img");g.addEventListener("load",function(){var r=f.getPalette(g,5,p);l(r[0],n)}),g.src=n},j.prototype.getImageData=function(n,l){var p=new XMLHttpRequest;p.open("GET",n,!0),p.responseType="arraybuffer",p.onload=function(){if(this.status==200){var f=new Uint8Array(this.response);i=f.length;for(var g=new Array(i),r=0;r<f.length;r++)g[r]=String.fromCharCode(f[r]);var e=g.join(""),o=window.btoa(e);l("data:image/png;base64,"+o)}},p.send()},j.prototype.getColorAsync=function(n,l,p){var f=this;this.getImageData(n,function(g){var r=document.createElement("img");r.addEventListener("load",function(){var e=f.getPalette(r,5,p);l(e[0],this)}),r.src=g})};const J=(n=[0,110,230])=>{const[l,p]=R.useState(n),f=R.useCallback(e=>{try{if(e&&e.complete){const s=new j().getColor(e);p(s)}}catch(o){console.error("Error getting color from image:",o),p(n)}},[n]),g=R.useCallback(()=>{p(n)},[n]),r=R.useCallback(e=>typeof e>"u"||!e?`rgb(${n.join(", ")})`:`rgb(${e.join(", ")})`,[n]);return{color:l,getColorFromImage:f,resetToDefaultColor:g,rgbToString:r}},P=({data:n,index:l=0})=>{const[p,f]=F({threshold:.1,rootMargin:"-50px 0px"}),{color:g,getColorFromImage:r,resetToDefaultColor:e,rgbToString:o}=J(),s=R.useMemo(()=>({initial:{opacity:0,y:30},animate:f?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.5,delay:.1*(l%3),ease:"easeOut",type:"tween",translateY:!0}}),[f,l]),a=R.useMemo(()=>M("div",{className:"experience-card-header",style:{backgroundColor:o(g)},"aria-label":`${n.company} header`,children:M("h5",{className:"company-name",tabIndex:"0",children:n.company})}),[n.company,g,o]);return M("div",{className:"experience-card",ref:p,children:B(L,{className:"text-center h-100",animation:s,header:a,shadow:!0,children:[M("div",{className:"company-logo-container",children:M(S,{className:"company-logo",src:n.companylogo,alt:`${n.company} logo`,onLoad:t=>t&&t.target&&r(t.target),onError:e,lazy:!0})}),M("h5",{className:"job-title",id:`role-${l}`,tabIndex:"0",children:n.role}),M("div",{className:"date-range",tabIndex:"0","aria-labelledby":`role-${l}`,children:n.date}),B("div",{className:"description text-start",children:[M("div",{tabIndex:"0",children:n.desc}),n.descBullets&&n.descBullets.length>0&&M("ul",{"aria-label":`Responsibilities at ${n.company}`,children:n.descBullets.map((t,u)=>M("li",{tabIndex:"0",children:t},`${n.company}-bullet-${u}`))})]})]})})};P.propTypes={data:N.shape({company:N.string.isRequired,role:N.string.isRequired,date:N.string.isRequired,desc:N.string.isRequired,companylogo:N.string.isRequired,descBullets:N.arrayOf(N.string)}).isRequired,index:N.number};const Q=R.memo(P);P.__docgenInfo={description:`Experience card component for displaying job experience information.

@component
@param {Object} props - Component props
@param {Object} props.data - Experience data object
@param {string} props.data.company - Company name
@param {string} props.data.role - Job role
@param {string} props.data.date - Employment date range
@param {string} props.data.desc - Job description
@param {string} props.data.companylogo - Company logo URL
@param {string[]} [props.data.descBullets] - Array of description bullet points
@param {number} [props.index=0] - Index number for staggered animations
@returns {React.ReactElement} ExperienceCard component`,methods:[],displayName:"ExperienceCard",props:{index:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},data:{description:"",type:{name:"shape",value:{company:{name:"string",required:!0},role:{name:"string",required:!0},date:{name:"string",required:!0},desc:{name:"string",required:!0},companylogo:{name:"string",required:!0},descBullets:{name:"arrayOf",value:{name:"string"},required:!1}}},required:!0}}};export{Q as E};
